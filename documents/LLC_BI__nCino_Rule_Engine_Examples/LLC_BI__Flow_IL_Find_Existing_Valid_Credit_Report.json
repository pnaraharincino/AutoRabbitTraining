{"attributes":{"type":"Flow","url":"/services/data/v48.0/tooling/sobjects/Flow/3015C000000MkrRQAS"},"Id":"3015C000000MkrRQAS","DefinitionId":"3005C000000LFRvQAO","MasterLabel":"ILFindExistingValidCreditReport","ManageableState":"unmanaged","VersionNumber":3,"Status":"Active","Description":"Returns Ids for the transaction log and credit report record if an existing valid credit report is found.","ProcessType":"AutoLaunchedFlow","CreatedDate":"2020-07-06T13:01:14.000+0000","CreatedById":"0053u000002v2ALAAY","LastModifiedDate":"2020-07-06T13:01:16.000+0000","LastModifiedById":"0053u000002v2ALAAY","Metadata":{"actionCalls":[],"apexPluginCalls":[],"assignments":[{"assignmentItems":[{"assignToReference":"ValidReportId","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReport.Id","numberValue":null,"stringValue":null}},{"assignToReference":"ValidTransactionLogId","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"TransactionLog.Id","numberValue":null,"stringValue":null}}],"connector":null,"description":"If a valid credit report exists, store the associated Credit Report and Transaction Log Ids.","label":"Set Valid Report and Transaction Log Ids","locationX":1126,"locationY":523,"name":"Set_Valid_Report_and_Transaction_Log_Ids","processMetadataValues":[]}],"choices":[],"constants":[{"dataType":"String","description":"References the type of Credit Score calculation that is used in the Credit Report","name":"CreditReportModel","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"V"}},{"dataType":"String","description":"Represents the 'IN FILE' status of the Credit Report record.","name":"InFile","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"IN FILE"}},{"dataType":"String","description":"Represents the 'NEEDS REVIEW' status of the Credit Report record.","name":"NeedsReview","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"NEEDS REVIEW"}},{"dataType":"String","description":"Represents the 'PASS' status of the Credit Report record.","name":"Pass","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"PASS"}},{"dataType":"String","description":"Defines the credit report pull type to filter on.","name":"ReportType","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"Hard"}}],"decisions":[{"defaultConnector":{"processMetadataValues":[],"targetReference":"Check_For_Valid_Credit_Report"},"defaultConnectorLabel":"Report Not Valid","description":"Determines if the current credit report is valid for use. Decisioning is based on the status and model.","label":"Check Valid Status","locationX":756,"locationY":527,"name":"Check_Valid_Status","processMetadataValues":[],"rules":[{"conditionLogic":"(1 OR 2 OR 3) AND (4 OR 5 OR 6 OR 7 OR 8)","conditions":[{"leftValueReference":"CreditReport.nFUSE__Status__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"Pass","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.nFUSE__Status__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"InFile","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.nFUSE__Status__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"NeedsReview","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.Score_1_Code__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReportModel","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.Score_2_Code__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReportModel","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.Score_3_Code__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReportModel","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.Score_4_Code__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReportModel","numberValue":null,"stringValue":null}},{"leftValueReference":"CreditReport.Score_5_Code__c","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReportModel","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Get_Transaction_Log"},"description":null,"label":"Report Valid","name":"Report_Valid","processMetadataValues":[]}]},{"defaultConnector":{"processMetadataValues":[],"targetReference":"Get_Credit_Reports_By_Contact"},"defaultConnectorLabel":"Search By Contact","description":"Will load credit reports by Account ID if Contact ID is not provided","label":"Search by Account or Contact","locationX":390,"locationY":52,"name":"Search_By_Contact_Or_Account","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"AccountId","operator":"NotEqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":""}}],"connector":{"processMetadataValues":[],"targetReference":"Get_Credit_Reports_By_Account"},"description":null,"label":"Search By Account","name":"Search_By_Account","processMetadataValues":[]}]}],"description":"Returns Ids for the transaction log and credit report record if an existing valid credit report is found.","dynamicChoiceSets":[],"formulas":[],"interviewLabel":"ILGetValidCreditReport {!$Flow.CurrentDateTime}","isAdditionalPermissionRequiredToRun":null,"isTemplate":null,"label":"ILFindExistingValidCreditReport","loops":[{"assignNextValueToReference":"CreditReport","collectionReference":"CreditReports","description":"Loops through each returned Credit Report to determine and return a valid report.","iterationOrder":"Asc","label":"Check For Valid Credit Report","locationX":487,"locationY":526,"name":"Check_For_Valid_Credit_Report","nextValueConnector":{"processMetadataValues":[],"targetReference":"Check_Valid_Status"},"noMoreValuesConnector":null,"processMetadataValues":[]}],"processMetadataValues":[{"name":"BuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}},{"name":"OriginBuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}}],"processType":"AutoLaunchedFlow","recordCreates":[],"recordDeletes":[],"recordLookups":[{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"Check_For_Valid_Credit_Report"},"description":"Load Credit Report records associated with the inputted Account Id.","faultConnector":null,"filters":[{"field":"nFUSE__Account__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"AccountId","numberValue":null,"stringValue":null}},{"field":"nFUSE__Report_Type__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ReportType","numberValue":null,"stringValue":null}}],"getFirstRecordOnly":null,"label":"Get Credit Reports By Account","locationX":398,"locationY":284,"name":"Get_Credit_Reports_By_Account","object":"nFUSE__Credit_Report__c","outputAssignments":[],"outputReference":"CreditReports","processMetadataValues":[],"queriedFields":["Id","nFUSE__Status__c","nFUSE__Transaction_Log__c","Score_1_Code__c","Score_2_Code__c","Score_3_Code__c","Score_4_Code__c","Score_5_Code__c"],"sortField":"CreatedDate","sortOrder":"Desc","storeOutputAutomatically":null},{"assignNullValuesIfNoRecordsFound":false,"connector":{"processMetadataValues":[],"targetReference":"Check_For_Valid_Credit_Report"},"description":"Load Credit Report records associated with the inputted Contact Id.","faultConnector":null,"filters":[{"field":"nFUSE__Contact__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ContactId","numberValue":null,"stringValue":null}},{"field":"nFUSE__Report_Type__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ReportType","numberValue":null,"stringValue":null}}],"getFirstRecordOnly":null,"label":"Get Credit Reports By Contact","locationX":574,"locationY":290,"name":"Get_Credit_Reports_By_Contact","object":"nFUSE__Credit_Report__c","outputAssignments":[],"outputReference":"CreditReports","processMetadataValues":[],"queriedFields":["Id","nFUSE__Status__c","nFUSE__Transaction_Log__c","Score_1_Code__c","Score_2_Code__c","Score_3_Code__c","Score_4_Code__c","Score_5_Code__c"],"sortField":"CreatedDate","sortOrder":"Desc","storeOutputAutomatically":null},{"assignNullValuesIfNoRecordsFound":false,"connector":{"processMetadataValues":[],"targetReference":"Set_Valid_Report_and_Transaction_Log_Ids"},"description":"Load the Transaction Log record associated with the Credit Report.","faultConnector":null,"filters":[{"field":"Id","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CreditReport.nFUSE__Transaction_Log__c","numberValue":null,"stringValue":null}}],"getFirstRecordOnly":null,"label":"Get Transaction Log","locationX":948,"locationY":523,"name":"Get_Transaction_Log","object":"nFUSE__Transaction_Log__c","outputAssignments":[],"outputReference":"TransactionLog","processMetadataValues":[],"queriedFields":["Id"],"sortField":null,"sortOrder":null,"storeOutputAutomatically":null}],"recordUpdates":[],"runInMode":null,"screens":[],"start":{"connector":{"processMetadataValues":[],"targetReference":"Search_By_Contact_Or_Account"},"description":null,"filters":[],"label":null,"locationX":50,"locationY":50,"name":null,"object":null,"processMetadataValues":[],"recordTriggerType":null,"schedule":null,"triggerType":null},"startElementReference":null,"status":"Active","steps":[],"subflows":[],"textTemplates":[],"urls":null,"variables":[{"apexClass":null,"dataType":"String","description":"The account Id to be used to search for existing credit reports.","isCollection":false,"isInput":true,"isOutput":false,"name":"AccountId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"The contact Id to be used in searching for existing credit reports.","isCollection":false,"isInput":true,"isOutput":false,"name":"ContactId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"SObject","description":"Holds the credit report record.","isCollection":false,"isInput":false,"isOutput":false,"name":"CreditReport","objectType":"nFUSE__Credit_Report__c","processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"SObject","description":null,"isCollection":true,"isInput":false,"isOutput":false,"name":"CreditReports","objectType":"nFUSE__Credit_Report__c","processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"SObject","description":"Holds the transaction log record","isCollection":false,"isInput":false,"isOutput":false,"name":"TransactionLog","objectType":"nFUSE__Transaction_Log__c","processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"The record Id of the existing valid credit report.","isCollection":false,"isInput":false,"isOutput":true,"name":"ValidReportId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"The Transaction Log Id of the existing valid credit report.","isCollection":false,"isInput":false,"isOutput":true,"name":"ValidTransactionLogId","objectType":null,"processMetadataValues":[],"scale":null,"value":null}],"waits":[]},"FullName":"ILFindExistingValidCreditReport","IsTemplate":false,"RunInMode":null}