{"attributes":{"type":"Flow","url":"/services/data/v48.0/tooling/sobjects/Flow/30155000000LqV6AAK"},"Id":"30155000000LqV6AAK","DefinitionId":"3005500000059nxAAA","MasterLabel":"ILProductTypeSelection","ManageableState":"unmanaged","VersionNumber":1,"Status":"Draft","Description":"Determines the Product Type that should apply to a particular credit application in Indirect Lending","ProcessType":"AutoLaunchedFlow","CreatedDate":"2020-09-10T20:48:20.000+0000","CreatedById":"005550000064mFHAAY","LastModifiedDate":"2020-09-10T20:48:23.000+0000","LastModifiedById":"005550000064mFHAAY","Metadata":{"actionCalls":[{"actionName":"LLC_BI__ILCreditApplicationFlowTransformer","actionType":"apex","connector":{"processMetadataValues":[],"targetReference":"For_Each_Applicant"},"dataTypeMappings":[],"description":"Converts serialized data provided to the Flow into a credit application variable that can be used to drive decisions in the Flow.","faultConnector":null,"inputParameters":[{"name":"jsonData","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ApplicationData","numberValue":null,"stringValue":null}}],"label":"Load Application Data","locationX":175,"locationY":212,"name":"Load_Application_Data","outputParameters":[{"assignToReference":"Applicants","name":"applicants","processMetadataValues":[]},{"assignToReference":"Collaterals","name":"collaterals","processMetadataValues":[]},{"assignToReference":"CreditProduct","name":"creditProduct","processMetadataValues":[]}],"processMetadataValues":[],"storeOutputAutomatically":null}],"apexPluginCalls":[],"assignments":[{"assignmentItems":[{"assignToReference":"ProductTypeID","operator":"Assign","processMetadataValues":[],"value":null},{"assignToReference":"ProductTypeName","operator":"Assign","processMetadataValues":[],"value":null}],"connector":null,"description":"Sets null return values for Product Type information to indicate no valid Product Type could be found","label":"Return Null Product Type Values","locationX":517,"locationY":454,"name":"Return_Null_Product_Values","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"ProductTypeName","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ProductTypePurchaseAuto","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Load_Product_Type"},"description":"Sets the selected Product Type name to Purchase Auto","label":"Use Purchase Auto Product Type","locationX":1158,"locationY":305,"name":"Use_Purchase_Auto_Product_Type","processMetadataValues":[]}],"choices":[],"constants":[{"dataType":"String","description":"Expected external type value for an Auto Collateral Type","name":"CollateralTypeAuto","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"Auto"}},{"dataType":"String","description":"Defines the value for Applicant Type which indicates they are the primary borrower and an Individual","name":"IndividualPrimaryApplicantType","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"Primary"}},{"dataType":"String","description":"The Product Type name used by default for an automotive loan application","name":"ProductTypePurchaseAuto","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"Purchase Auto"}}],"decisions":[{"defaultConnector":null,"defaultConnectorLabel":"Default Outcome","description":"Checks the first Collateral provided to determine if the external type value is \"Auto\", indicating a an Automotive loan","label":"Collateral Type Is Auto?","locationX":926,"locationY":311,"name":"Collateral_Type_Is_Auto","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"For_Each_Collateral.externalType","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CollateralTypeAuto","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Use_Purchase_Auto_Product_Type"},"description":null,"label":"Auto Collateral Type","name":"Auto_Collateral_Type","processMetadataValues":[]},{"conditionLogic":"and","conditions":[{"leftValueReference":"For_Each_Collateral.externalType","operator":"NotEqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"CollateralTypeAuto","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Return_Null_Product_Values"},"description":null,"label":"Other Collateral Type","name":"Other_Collateral_Type","processMetadataValues":[]}]},{"defaultConnector":null,"defaultConnectorLabel":"Default Outcome","description":"Determines if the first, primary applicant in the credit application is an individual","label":"Primary Applicant Is Individual?","locationX":509,"locationY":214,"name":"Individual_Primary_Applicant","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"Applicant.applicantType","operator":"EqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"IndividualPrimaryApplicantType","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"For_Each_Collateral"},"description":null,"label":"Is Individual","name":"Is_Individual","processMetadataValues":[]},{"conditionLogic":"and","conditions":[{"leftValueReference":"Applicant.applicantType","operator":"NotEqualTo","processMetadataValues":[],"rightValue":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"IndividualPrimaryApplicantType","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Return_Null_Product_Values"},"description":null,"label":"Is Not Individual","name":"Is_Not_Individual","processMetadataValues":[]}]}],"description":"Determines the Product Type that should apply to a particular credit application in Indirect Lending","dynamicChoiceSets":[],"formulas":[],"interviewLabel":"ILProductTypeSelection {!$Flow.CurrentDateTime}","isAdditionalPermissionRequiredToRun":null,"isTemplate":null,"label":"ILProductTypeSelection","loops":[{"assignNextValueToReference":"Applicant","collectionReference":"Applicants","description":"Performs additional processing for each applicant included in the credit application","iterationOrder":"Asc","label":"For Each Applicant","locationX":333,"locationY":212,"name":"For_Each_Applicant","nextValueConnector":{"processMetadataValues":[],"targetReference":"Individual_Primary_Applicant"},"noMoreValuesConnector":null,"processMetadataValues":[]},{"assignNextValueToReference":null,"collectionReference":"Collaterals","description":"Evaluates Collateral to determine if the \"Auto\" Collateral Type is used","iterationOrder":"Asc","label":"For Each Collateral","locationX":719,"locationY":208,"name":"For_Each_Collateral","nextValueConnector":{"processMetadataValues":[],"targetReference":"Collateral_Type_Is_Auto"},"noMoreValuesConnector":null,"processMetadataValues":[]}],"processMetadataValues":[{"name":"BuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}},{"name":"OriginBuilderType","value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":"LightningFlowBuilder"}}],"processType":"AutoLaunchedFlow","recordCreates":[],"recordDeletes":[],"recordLookups":[{"assignNullValuesIfNoRecordsFound":false,"connector":null,"description":"Retrieves the applicable Product Type from the database to return in Flow outputs (if found)","faultConnector":null,"filters":[{"field":"Name","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"ProductTypeName","numberValue":null,"stringValue":null}}],"getFirstRecordOnly":null,"label":"Load Product Type","locationX":1157,"locationY":490,"name":"Load_Product_Type","object":"LLC_BI__Product_Type__c","outputAssignments":[{"assignToReference":"ProductTypeID","field":"Id","processMetadataValues":[]}],"outputReference":null,"processMetadataValues":[],"queriedFields":null,"sortField":null,"sortOrder":null,"storeOutputAutomatically":null}],"recordUpdates":[],"runInMode":null,"screens":[],"start":{"connector":{"processMetadataValues":[],"targetReference":"Load_Application_Data"},"description":null,"filters":[],"label":null,"locationX":50,"locationY":50,"name":null,"object":null,"processMetadataValues":[],"recordTriggerType":null,"schedule":null,"triggerType":null},"startElementReference":null,"status":"Draft","steps":[],"subflows":[],"textTemplates":[],"urls":null,"variables":[{"apexClass":"LLC_BI__ILApplicantFlowVar_v1","dataType":"Apex","description":"Current applicant being evaluated","isCollection":false,"isInput":false,"isOutput":false,"name":"Applicant","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":"LLC_BI__ILApplicantFlowVar_v1","dataType":"Apex","description":"Contains information about the applicants included in the credit application.","isCollection":true,"isInput":false,"isOutput":false,"name":"Applicants","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"JSON-serialized String containing data from the credit application used in the Flow.","isCollection":false,"isInput":true,"isOutput":false,"name":"ApplicationData","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":"LLC_BI__ILCollateralFlowVar_v1","dataType":"Apex","description":"One or more collateral provided as part of the inbound credit application","isCollection":true,"isInput":false,"isOutput":false,"name":"Collaterals","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":"LLC_BI__ILCreditProductFlowVar_v1","dataType":"Apex","description":"Stores loan information provided as part of the overall credit application","isCollection":false,"isInput":false,"isOutput":false,"name":"CreditProduct","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"ID of the Product Type which should be used for this Credit Application","isCollection":false,"isInput":false,"isOutput":true,"name":"ProductTypeID","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"apexClass":null,"dataType":"String","description":"Descriptive Name of the Product Type which should be used for this Credit Application","isCollection":false,"isInput":false,"isOutput":true,"name":"ProductTypeName","objectType":null,"processMetadataValues":[],"scale":null,"value":null}],"waits":[]},"FullName":"LLC_BI__ILProductTypeSelection","IsTemplate":false,"RunInMode":null}