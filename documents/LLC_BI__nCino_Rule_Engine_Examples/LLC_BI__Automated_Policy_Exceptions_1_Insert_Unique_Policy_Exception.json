{"attributes":{"type":"Flow","url":"/services/data/v35.0/tooling/sobjects/Flow/301360000002LYYAA2"},"Id":"301360000002LYYAA2","DefinitionId":"3003600000054HFAAY","MasterLabel":"InsertPolicyExceptionUnique","ManageableState":"unmanaged","VersionNumber":1,"Status":"Draft","Description":"Insert Policy Exception if it has not already been inserted\nDoes nothing if the Policy Exception already exists","ProcessType":"AutoLaunchedFlow","CreatedDate":"2016-07-26T22:07:49.000+0000","CreatedById":"005360000024TF2AAM","LastModifiedDate":"2016-07-26T22:07:50.000+0000","LastModifiedById":"005360000024TF2AAM","Metadata":{"actionCalls":[],"apexPluginCalls":[],"assignments":[{"assignmentItems":[{"assignToReference":"collatId","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.LLC_BI__Collateral_Mgmt__c","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Is_Cov_Set"},"description":null,"label":"Assign Collat Id","locationX":248,"locationY":389,"name":"Assign_Collat_Id","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"covId","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.LLC_BI__Covenant_Mgmt__c","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Find_Existing_PE"},"description":null,"label":"Assign Cov Id","locationX":449,"locationY":528,"name":"Assign_Cov_Id","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"relationshipId","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.LLC_BI__Relationship__c","numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Is_Collat_Set"},"description":null,"label":"Assign Relationship Id","locationX":16,"locationY":217,"name":"Assign_Relationship_Id","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"inPolicyException.LLC_BI__Automatically_Added__c","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Insert_PE"},"description":null,"label":"Indicate Automatic PE","locationX":983,"locationY":533,"name":"Indicate_Automatic_PE","processMetadataValues":[]},{"assignmentItems":[{"assignToReference":"outDidInsert","operator":"Assign","processMetadataValues":[],"value":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":null,"description":null,"label":"Indicate Inserted","locationX":1298,"locationY":535,"name":"Indicate_Inserted","processMetadataValues":[]}],"choices":[],"constants":[],"decisions":[{"defaultConnector":null,"defaultConnectorLabel":"[Default Outcome]","description":null,"label":"If PE Unique","locationX":799,"locationY":536,"name":"If_PE_Unique","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"exitingPolicyException","operator":"IsNull","processMetadataValues":[],"rightValue":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Indicate_Automatic_PE"},"description":null,"label":"Insert","name":"Insert","processMetadataValues":[]}]},{"defaultConnector":{"processMetadataValues":[],"targetReference":"Is_Cov_Set"},"defaultConnectorLabel":"Collat Not Set","description":null,"label":"Is Collat Set","locationX":248,"locationY":216,"name":"Is_Collat_Set","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"inPolicyException.LLC_BI__Collateral_Mgmt__c","operator":"WasSet","processMetadataValues":[],"rightValue":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Assign_Collat_Id"},"description":null,"label":"Collat Set","name":"Collat_Set","processMetadataValues":[]}]},{"defaultConnector":{"processMetadataValues":[],"targetReference":"Find_Existing_PE"},"defaultConnectorLabel":"Cov Not Set","description":null,"label":"Is Cov Set","locationX":439,"locationY":395,"name":"Is_Cov_Set","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"inPolicyException.LLC_BI__Covenant_Mgmt__c","operator":"WasSet","processMetadataValues":[],"rightValue":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Assign_Cov_Id"},"description":null,"label":"Cov Set","name":"Cov_Set","processMetadataValues":[]}]},{"defaultConnector":{"processMetadataValues":[],"targetReference":"Is_Collat_Set"},"defaultConnectorLabel":"Relationship Not Set","description":null,"label":"Is Relationship Set","locationX":10,"locationY":13,"name":"Is_Relationship_Set","processMetadataValues":[],"rules":[{"conditionLogic":"and","conditions":[{"leftValueReference":"inPolicyException.LLC_BI__Relationship__c","operator":"WasSet","processMetadataValues":[],"rightValue":{"booleanValue":true,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}}],"connector":{"processMetadataValues":[],"targetReference":"Assign_Relationship_Id"},"description":null,"label":"Relationship Set","name":"Relationship_Set","processMetadataValues":[]}]}],"description":"Insert Policy Exception if it has not already been inserted\nDoes nothing if the Policy Exception already exists","dynamicChoiceSets":[],"formulas":[],"interviewLabel":"InsertPolicyExceptionUnique {!$Flow.CurrentDateTime}","label":"InsertPolicyExceptionUnique","loops":[],"processMetadataValues":[],"processType":"AutoLaunchedFlow","recordCreates":[{"assignRecordIdToReference":null,"connector":{"processMetadataValues":[],"targetReference":"Indicate_Inserted"},"description":null,"faultConnector":null,"inputAssignments":[],"inputReference":"inPolicyException","label":"Insert PE","locationX":1142,"locationY":535,"name":"Insert_PE","object":null,"processMetadataValues":[]}],"recordDeletes":[],"recordLookups":[{"assignNullValuesIfNoRecordsFound":true,"connector":{"processMetadataValues":[],"targetReference":"If_PE_Unique"},"description":null,"faultConnector":null,"filters":[{"field":"LLC_BI__Collateral_Mgmt__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"collatId","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Covenant_Mgmt__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"covId","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Loan__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.LLC_BI__Loan__c","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Relationship__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"relationshipId","numberValue":null,"stringValue":null}},{"field":"LLC_BI__Type__c","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.LLC_BI__Type__c","numberValue":null,"stringValue":null}},{"field":"Name","operator":"EqualTo","processMetadataValues":[],"value":{"booleanValue":null,"dateTimeValue":null,"dateValue":null,"elementReference":"inPolicyException.Name","numberValue":null,"stringValue":null}}],"label":"Find Existing PE","locationX":648,"locationY":534,"name":"Find_Existing_PE","object":"LLC_BI__Policy_Exception__c","outputAssignments":[],"outputReference":"exitingPolicyException","processMetadataValues":[],"queriedFields":["Id"],"sortField":null,"sortOrder":null}],"recordUpdates":[],"screens":[],"startElementReference":"Is_Relationship_Set","steps":[],"subflows":[],"textTemplates":[],"urls":null,"variables":[{"dataType":"String","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"collatId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"dataType":"String","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"covId","objectType":null,"processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"exitingPolicyException","objectType":"LLC_BI__Policy_Exception__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"SObject","description":null,"isCollection":false,"isInput":true,"isOutput":false,"name":"inPolicyException","objectType":"LLC_BI__Policy_Exception__c","processMetadataValues":[],"scale":null,"value":null},{"dataType":"Boolean","description":null,"isCollection":false,"isInput":false,"isOutput":true,"name":"outDidInsert","objectType":null,"processMetadataValues":[],"scale":null,"value":{"booleanValue":false,"dateTimeValue":null,"dateValue":null,"elementReference":null,"numberValue":null,"stringValue":null}},{"dataType":"String","description":null,"isCollection":false,"isInput":false,"isOutput":false,"name":"relationshipId","objectType":null,"processMetadataValues":[],"scale":null,"value":null}],"waits":[]},"FullName":"InsertPolicyExceptionUnique-1"}